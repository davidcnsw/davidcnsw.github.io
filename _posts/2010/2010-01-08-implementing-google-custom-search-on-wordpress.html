---
layout: post
title: Implementing Google Custom Search on WordPress
date: 2010-01-08 09:20:49.000000000 -08:00
categories:
- technical-writing
- web-design
- wordpress
tags:
- canonical
- Google
- google custom search
- search engine optimization
- search results
status: publish

published: true
---
<p>Google Custom Search can dramatically improve the search results for your <a href="http://wordpress.org" target="_blank">WordPress blog</a> or any other site. WordPress is a great blogging platform, no doubt about it. But the built-in search feature is terrible. As I've searched for keywords from past posts to respond to reader questions, I would continually come up empty-handed.</p>
<p>As a solution, I incorporated <a href="http://www.google.com/cse/" target="_blank">Google Custom Search</a>, which is a free service that allows you to embed a Google search box and results (limited to just your site and any other sites you specify) on your site.</p>
<p>Try it out by searching for something using the search at the top of my sidebar. Not only are the search results more accurate, when you start running a few searches, you begin to see how your site appears to people who search for you in Google. </p>
<h3>Canonical Posts</h3>
<p>One thing I immediately realized was that a lot of my archives pages were appearing in posts. The search results would begin with my blog title followed by the word archives followed by the post title (which was then truncated due to space constraints). It's important to have just one version of your post in Google's search results, so that your other posts aren't competing against each other. (For more on this, research <em><a href="http://markjaquith.wordpress.com/2007/09/25/wordpress-23-canonical-urls/" target="_blank">canonical</a></em><a href="http://markjaquith.wordpress.com/2007/09/25/wordpress-23-canonical-urls/" target="_blank"> URLs in WordPress</a>.) I also wanted the search engine result to begin with the post title.</p>
<p>To fix the display of the results, I implemented the <a href="http://wordpress.org/extend/plugins/all-in-one-seo-pack/" target="_blank">All in One SEO plugin</a> and configured the plugin's settings so that only the single post would appear in the search results, not the archives. I then created a sitemap (using the <a href="http://www.dagondesign.com/articles/sitemap-generator-plugin-for-wordpress/" target="_blank">Daigon Design sitemap generator</a> as well as the <a href="http://wordpress.org/extend/plugins/google-sitemap-generator/" target="_blank">Google XML Sitemap plugin</a>), generated both sitemaps, and linked to the <a href="https://idratherbewriting.com/post-index">Daigon Design sitemap</a> in one of my latest posts so that Google would reindex all the posts on my site.</p>
<h3>Implementing Google Custom Search</h3>
<p>Implementing Google Custom Search in a WordPress site can be a little tricky. The <a href="http://wordpress.org/extend/plugins/google-custom-search-for-wordpress/" target="_blank">Google Custom Search WordPress plugin</a> didn't work for me, so I just copied the Google code manually.</p>
<p>Google gives you two pieces of code: code for a search box and code for the search results. Choose the iframe option before generating the code. For the search results page, type the name <strong>search</strong>. Insert the search box code in your sidebar somewhere. Then create a page called Search that uses a <a href="http://codex.wordpress.org/Stepping_Into_Templates" target="_blank">page template</a> with the search results code. Also copy the search results code into the search.php page of your theme.</p>
<p>As you accrue more and more posts in your blog, you need an fast and accurate way to retrieve posts based on vaguely remembered keywords. WordPress's built-in search won't always find what you're looking for. If users are savvy, they can use <strong>site:yourdomain.com keywords</strong> to search your site at Google.com. But embedding the search form directly on your site is much more user-intuitive.</p>
